# Alpine Linux セットアップ手順 画像集 (最終版・改訂2版)

ご指摘に基づき、全25枚の画像を一枚ずつ精査し、内容とコメントを完全に一致させたものです。ファイル名の昇順で並んでいます。

---

### 1. IMG_0413.jpeg

**内容:** Alpine Linux 公式サイトのダウンロードページ
**コメント:** iPadで動かすUTMでは`aarch64`アーキテクチャが対応するため、`VIRTUAL`カテゴリの中から「aarch64」のISOイメージをダウンロードします。

![Alpine Linux ダウンロードページ]({{ site.baseurl }}/images/IMG_0413.jpeg)

---

### 2. IMG_0414.jpeg

**内容:** UTMの「新規仮想マシンを作成」ボタン
**コメント:** UTMを起動し、新しい仮想マシンを作成するために、この「＋」ボタンをタップします。

![「新規仮想マシンを作成」ボタン]({{ site.baseurl }}/images/IMG_0414.jpeg)

---

### 3. IMG_0415.jpeg

**内容:** 「新規マシン」作成オプション
**コメント:** テンプレートを使わずに、ゼロから仮想マシンを作成するため、「新規マシン」を選択します。

![「新規マシン」オプション]({{ site.baseurl }}/images/IMG_0415.jpeg)

---

### 4. IMG_0416.jpeg

**内容:** OSの種類の選択
**コメント:** インストールするOSの種類として「Linux」を選択します。

![OSとして「Linux」を選択]({{ site.baseurl }}/images/IMG_0416.jpeg)

---

### 5. IMG_0417.jpeg

**内容:** ハードウェアのExpert Mode設定
**コメント:** 「Expert Mode」をオンにすると、アーキテクチャ、メモリ、CPUコア数などを詳細に設定できます。ここでは`aarch64`、メモリ`2048MB`、CPU`2コア`に設定しています。

![ハードウェアExpert Mode設定]({{ site.baseurl }}/images/IMG_0417.jpeg)

---

### 6. IMG_0418.jpeg

**内容:** ディスプレイ出力設定
**コメント:** グラフィックに関する設定です。「ハードウェアOpenGLアクセラレーション」を有効にするか選択できます。

![ディスプレイ出力設定]({{ site.baseurl }}/images/IMG_0418.jpeg)

---

### 7. IMG_0419.jpeg

**内容:** 起動イメージの種類の選択
**コメント:** Linuxをどうやって起動するかを選択します。新規インストールの場合は「Boot from ISO image」を選択し、「選択...」をタップしてISOファイルを探します。

![起動イメージの種類を選択]({{ site.baseurl }}/images/IMG_0419.jpeg)

---

### 8. IMG_0420.jpeg

**内容:** 起動ISOイメージの指定完了
**コメント:** 手順7で「選択...」をタップし、ダウンロードしておいたAlpine LinuxのISOイメージ (`alpine-virt-3.22.2-aarch64.iso`) を指定し終えた状態です。

![起動ISOイメージの指定完了]({{ site.baseurl }}/images/IMG_0420.jpeg)

---

### 9. IMG_0421.jpeg

**内容:** ストレージサイズの設定
**コメント:** 仮想マシンに割り当てるディスクのサイズを設定します。ここでは`10 GiB`に設定しています。

![ストレージサイズの設定]({{ site.baseurl }}/images/IMG_0421.jpeg)

---

### 10. IMG_0422.jpeg

**内容:** 共有ディレクトリの設定
**コメント:** ホストOS（iPad）と仮想マシン（Alpine Linux）の間でファイルを共有するためのフォルダを指定できます。今回は設定せずに進みます。

![共有ディレクトリの設定]({{ site.baseurl }}/images/IMG_0422.jpeg)

---

### 11. IMG_0423.jpeg

**内容:** 仮想マシンの概要確認と保存
**コメント:** これまでの設定内容を最終確認し、仮想マシンの名前（例: Alpine Linux ARM64）を入力して「保存」をタップします。

![概要確認と保存]({{ site.baseurl }}/images/IMG_0423.jpeg)

---

### 12. IMG_0424.jpeg

**内容:** 仮想マシンの起動
**コメント:** UTMのメイン画面に作成された仮想マシンが表示されます。右側の「再生」ボタンをタップして仮想マシンを起動します。

![仮想マシンの起動]({{ site.baseurl }}/images/IMG_0424.jpeg)

---

### 13. IMG_0464.jpeg

**内容:** Alpine Linux起動とログインプロンプト
**コメント:** 仮想マシンが起動し、コンソールに「Welcome to Alpine Linux」のメッセージが表示され、ログインを促す `localhost login:` プロンプトが表示された状態です。

![Alpine Linux起動とログインプロンプト]({{ site.baseurl }}/images/IMG_0464.jpeg)

---

### 14. IMG_0466.jpeg

**内容:** rootでのログイン成功
**コメント:** `root`と入力してログインに成功した直後の画面です。`setup-alpine`コマンドでセットアップを開始するよう案内が表示されています。

![rootでのログイン成功]({{ site.baseurl }}/images/IMG_0466.jpeg)

---

### 15. IMG_0467.jpeg

**内容:** `setup-alpine` - キーボードレイアウト設定
**コメント:** `setup-alpine`コマンドを実行し、対話式セットアップが始まりました。最初の質問であるキーボードレイアウト（Keymap）で`jp`を選択しています。

![キーボードレイアウト設定]({{ site.baseurl }}/images/IMG_0467.jpeg)

---

### 16. IMG_0469.jpeg

**内容:** `setup-alpine` - ホスト名・ネットワーク・rootパスワード設定
**コメント:** ホスト名を`alphost`に、ネットワーク(eth0)をDHCPに、そしてrootユーザーのパスワードを設定している場面です。

![ホスト名・ネットワーク・rootパスワード設定]({{ site.baseurl }}/images/IMG_0469.jpeg)

---

### 17. IMG_0470.jpeg

**内容:** `setup-alpine` - タイムゾーン設定
**コメント:** システムのタイムゾーンを尋ねる質問に対し、`Japan`と入力して設定しています。

![タイムゾーン設定]({{ site.baseurl }}/images/IMG_0470.jpeg)

---

### 18. IMG_0471.jpeg

**内容:** `setup-alpine` - プロキシ・NTP・ミラー設定
**コメント:** プロキシはデフォルトの`none`のまま、NTPクライアントは`busybox`、パッケージミラーは`1`（公式CDN）を選択しています。ここでは`community`リポジトリを有効にしています。

![プロキシ・NTP・ミラー設定]({{ site.baseurl }}/images/IMG_0471.jpeg)

---

### 19. IMG_0473.jpeg

**内容:** `setup-alpine` - 一般ユーザーの作成
**コメント:** `root`とは別の、普段使いの一般ユーザー（ここでは`lintaro`）を作成し、パスワードを設定しています。

![一般ユーザーの作成]({{ site.baseurl }}/images/IMG_0473.jpeg)

---

### 20. IMG_0476.jpeg

**内容:** `setup-alpine` - ディスクインストールの完了
**コメント:** OSをディスク(`vda`)に`sys`モードでインストールする処理が完了した場面です。「Installation is complete. Please reboot.」と表示されています。この後、`poweroff`コマンドを実行してシステムをシャットダウンします。

![ディスクインストールの完了]({{ site.baseurl }}/images/IMG_0476.jpeg)

---

### 21. IMG_0481.jpeg

**内容:** インストール後のISOイメージ取り出し（作業前）
**コメント:** システムのシャットダウン後、UTMの仮想マシン設定画面に戻りました。CD/DVDドライブにインストール用ISOが挿入されたままになっています。

![ISOイメージ取り出し（作業前）]({{ site.baseurl }}/images/IMG_0481.jpeg)

---

### 22. IMG_0482.jpeg

**内容:** インストール後のISOイメージ取り出し（作業後）
**コメント:** CD/DVDドライブからISOイメージを取り出し、「（空）」になった状態です。再起動する前に必ずこの作業が必要です。

![ISOイメージ取り出し（作業後）]({{ site.baseurl }}/images/IMG_0482.jpeg)

---

### 23. IMG_0483.jpeg

**内容:** ディスクからの初回起動
**コメント:** ISOを取り外した後、UTMメイン画面で再度「再生」ボタンをタップし、ディスクにインストールされたOSを起動します。

![ディスクからの初回起動]({{ site.baseurl }}/images/IMG_0483.jpeg)

---

### 24. IMG_0484.jpeg

**内容:** ディスク起動後のログインプロンプト
**コメント:** ディスクから正常にOSが起動しました。ログインプロンプトが、設定したホスト名`alphost login:`に変わっていることが確認できます。

![ディスク起動後のログインプロンプト]({{ site.baseurl }}/images/IMG_0484.jpeg)

---

### 25. IMG_0485.jpeg

**内容:** 一般ユーザーでのログイン成功
**コメント:** 作成した一般ユーザー`lintaro`でログインに成功した場面です。プロンプトが `alphost:~$` となっています。ここから`apk`コマンド等で好きなパッケージを導入していきます。

**補足:** `apk`コマンドはroot権限で実行する必要があります。`su -` でrootユーザーに切り替えるか、`doas`パッケージをインストールして一般ユーザーから実行できるように設定してください。

![一般ユーザーでのログイン成功]({{ site.baseurl }}/images/IMG_0485.jpeg)
